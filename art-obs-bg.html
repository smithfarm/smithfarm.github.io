<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>OBS User Guide | First Steps: A Beginnerʼs Guide</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="First Steps: A Beginnerʼs Guide"/>
<meta name="description" content="This document is intended for users and developers interested in building packages from source code for different platforms and Linux distributions. …"/>
<meta name="book-title" content="OBS User Guide"/>
<meta name="chapter-title" content="Chapter 1. First Steps: A Beginnerʼs Guide"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="First Steps: A Beginnerʼs Guide"/>
<meta property="og:description" content="This document is intended for users and developers interest…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="First Steps: A Beginnerʼs Guide"/>
<meta name="twitter:description" content="This document is intended for users and developers interest…"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    

    "headline": "First Steps: A Beginnerʼs Guide",
  
    "description": "First Steps: A Beginnerʼs Guide",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="id-about-this-guide.html" title="About this Guide"/><link rel="next" href="id-legal-notice.html" title="Chapter 2. Legal notice"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="wide offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">OBS User Guide</a><span> / </span><a class="crumb" href="art-obs-bg.html">First Steps: A Beginnerʼs Guide</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">OBS User Guide</div><ol><li><a href="id-about-this-guide.html" class=" "><span class="title-number"> </span><span class="title-name">About this Guide</span></a></li><li><a href="art-obs-bg.html" class=" you-are-here"><span class="title-number">1 </span><span class="title-name">First Steps: A Beginnerʼs Guide</span></a></li><li><a href="id-legal-notice.html" class=" "><span class="title-number">2 </span><span class="title-name">Legal notice</span></a></li><li><a href="id-gnu-free-documentation-license.html" class=" "><span class="title-number">3 </span><span class="title-name">GNU Free Documentation License</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="art-obs-bg" data-id-title="First Steps: A Beginnerʼs Guide"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">First Steps: A Beginnerʼs Guide</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><section class="sect1" id="sec-obsbg-targetaudience" data-id-title="Target Audience"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.1 </span><span class="title-name">Target Audience</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-targetaudience">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This document is intended for users and developers interested in
building packages from source code for different platforms and Linux
distributions. Basic knowledge of Linux and the command line usage is
recommended.</p></section><section class="sect1" id="sec-obsbg-concept" data-id-title="Conceptual Overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.2 </span><span class="title-name">Conceptual Overview</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-concept">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Created in 2005, the Open Build Service (OBS) is a generic system for
building and distributing packages or images from source code in an
automatic, consistent, and reproducible way. OBS can create
images and installable packages for a wide range of operating systems
(SUSE, Debian, Ubuntu, Red Hat, Windows, etc.) and hardware
architectures (x86, AMD64, z Systems, POWER etc.).</p><section class="sect2" id="sec-obsbg-concept-pkgspec" data-id-title="Build Recipe"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.2.1 </span><span class="title-name">Build Recipe</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-concept-pkgspec">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>To create a package in OBS, you need a build recipe which
contains the following information:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>Metadata.</strong></span> The package name and the description are mandatory. Other data
such as the version, the license, the upstream URL is optional.</p></li><li class="listitem"><p><span class="strong"><strong>Dependencies.</strong></span> Packages depend on other packages to function properly. These
relationships are referred to as "dependencies". There are two types of
dependencies: <span class="emphasis"><em>build dependencies</em></span> and <span class="emphasis"><em>runtime dependencies</em></span>. Build
dependencies are packages that must be present at build time in order to
successfully build your source package. The act of building your source package
will create one or more binary packages. Each binary package can specify some
number of runtime dependencies (packages that your software needs to be present
at runtime), and the package manager will try to install these together with
your package. Both types of dependencies - build and runtime - are specified in
the build recipe. Exactly how this is done is described in the documentation of
the build system (RPM, Debian, etc.) in question and is beyond the scope of
this Open Build Service documentation. You need to look up documentation of the individual
package managers like <a class="link" href="https://rpm.org/" target="_blank">https://rpm.org/</a> or
<a class="link" href="https://www.debian.org/doc/devel-manuals#packaging-tutorial" target="_blank">https://www.debian.org/doc/devel-manuals#packaging-tutorial</a></p></li><li class="listitem"><p><span class="strong"><strong>A Package List.</strong></span> To successfully install and remove a package and all its
contents, the package manager needs to know which files and directories
belong to which package.</p></li></ul></div><p>For RPM-based operating systems such as openSUSE, SUSE Linux Enterprise, or
Red Hat Enterprise Linux, all the information above is included in a file with the
file extension <code class="literal">.spec</code>.</p></section><section class="sect2" id="sec-obsbg-buildhost" data-id-title="Build Hosts and Packages"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.2.2 </span><span class="title-name">Build Hosts and Packages</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-buildhost">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The OBS server provides a Web interface and an API. The API is
used by the <code class="literal">osc</code> command-line tool.</p><p>To build the package, the back end creates a sandbox with the respective
distribution. This sandbox is isolated from the rest of the host system.
Depending on the build recipe (on RPM-based systems, this is a spec
file), other packages are downloaded and installed prior to building.</p><p>The build process executes all the instructions that it finds in the
build recipe. If the build is successful, the files which belong to the
package are installed into the sandbox. From those sandboxed files, the
final RPM package is created and moved into a download area, the
<span class="emphasis"><em>download repository</em></span>.</p><p>End users can install the package using their preferred package
management tools. On a SUSE-based system, you can use YaST
or Zypper command-line tool to install an RPM version of the package.</p><p>Other OBS-related services (like the notification server, mirror
interface, etc.) perform very specific tasks and therefore beyond the
scope of this guide.</p><p>The following schematic shows the components in context:</p><div class="figure" id="fig-obsbg-concept"><div class="figure-contents"><div class="mediaobject"><a href="images/obs-concept.svg"><img src="images/obs-concept.svg" width="80.0%" alt="obs-concept" title="obs-concept"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 1.1: </span><span class="title-name">Conceptual Overview of Open Build Service </span></span><a title="Permalink" class="permalink" href="art-obs-bg.html#fig-obsbg-concept">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></section><section class="sect2" id="sec-obsbg-project" data-id-title="Projects and Packages"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.2.3 </span><span class="title-name">Projects and Packages</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-project">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>In OBS, packages are organized in <span class="emphasis"><em>projects</em></span>. A single project
can contain several packages, and it usually serves a specific
organizational purpose. Generic access control, related repositories,
and build targets (operating systems and architectures) are all defined
on the project level.</p><p>Projects can also have other projects (subprojects) to structure work.
They are mostly isolated from their parent project and can be configured
individually.</p><p>Each project name is separated by colon. For example, in the openSUSE Build Service,
packages for fonts are collected in the project <code class="literal">M17N:fonts</code> which is a
subproject of <code class="literal">M17N</code>. Packages for the Python programming language are
available in the <code class="literal">devel:languages:python</code> project which is a subproject of
<code class="literal">devel:languages</code> which itself is a subproject of <code class="literal">devel</code>.</p><p>As a user, you will normally build packages in your home project,
available in OBS as <code class="literal">home:USERNAME</code>. Home projects serve as a personal
working area in OBS to define build targets, upload, build, and
download packages. Users are also permitted to create subprojects for
temporary subprojects to work on other people’s packages.</p><p>Sometimes, you will see the <code class="literal">obs://DOMAIN/PROJECT</code> notation. The <code class="literal">obs://</code>
schema is a shorthand to abbreviate the long URL and needs to be replaced by
the real OBS instance URL.</p></section></section><section class="sect1" id="sec-obsbg-req" data-id-title="Requirements for Working with the osc Command-Line Tool"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.3 </span><span class="title-name">Requirements for Working with the <code class="literal">osc</code> Command-Line Tool</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-req">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Before you start working with Open Build Service, make sure that you have met
the following requirements:</p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.4.3.1"><span class="term">Software Requirements</span></dt><dd><p>Install the <code class="literal">osc</code> command line tool from your preferred
distributions or from the OBS project <code class="literal">openSUSE:Tools</code>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>On SUSE systems, install the <code class="literal">osc</code> package using a command
like <code class="literal">zypper install osc</code>.</p></li><li class="listitem"><p>On other systems, use your preferred package manager.</p></li><li class="listitem"><p>As an alternative, you can use the osc AppImage file. An
AppImage file is a packaged application which can run on many
distributions. Download the file from
<a class="link" href="https://download.opensuse.org/repositories/openSUSE:/Tools/AppImage/" target="_blank">https://download.opensuse.org/repositories/openSUSE:/Tools/AppImage/</a>,
save it in your <code class="literal">~/bin</code> directory, and make the file executable.</p></li></ul></div></dd><dt id="id-1.3.4.3.2"><span class="term">Hardware Requirements</span></dt><dd><p>Make sure you have a minimum of 1 GB of free disk space for building
packages locally and caching downloaded build dependencies. <code class="literal">osc</code> builds
packages locally under <code class="literal">/var/tmp/oscbuild</code> and caches downloaded packages under
<code class="literal">/var/tmp/osbuild-packagecache</code>.</p></dd></dl></div></section><section class="sect1" id="sec-obsbg-usagescenarios" data-id-title="Covered Scenarios"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.4 </span><span class="title-name">Covered Scenarios</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-usagescenarios">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This guide is based on the following assumptions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Since Git is used throughout this guide, and many OBS concepts
are modeled after their Subversion (SVN) equivalents, you have a working
knowledge of version control systems such as Git and Subversion (SVN).</p></li><li class="listitem"><p>You are using the openSUSE Build Service at <a class="link" href="https://build.opensuse.org" target="_blank">https://build.opensuse.org</a>. If you are
using another OBS instance, some commands may differ.</p></li><li class="listitem"><p>You have an account on an Open Build Service instance.</p></li><li class="listitem"><p>You are running an RPM-based operating system like openSUSE or
SUSE Linux Enterprise.</p></li><li class="listitem"><p>You have configured your system for OBS as shown in <a class="xref" href="art-obs-bg.html#sec-obsbg-obsconfig" title="1.5. Configuring Your System for OBS">Section 1.5, “Configuring Your System for OBS”</a>.</p></li></ul></div><p>All examples use the following elements:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A user on a local machine (you) called <code class="literal">geeko</code>. This user
builds packages on their own machine.</p></li><li class="listitem"><p>An OBS user called <code class="literal">obsgeeko</code> with home project <code class="literal">home:obsgeeko</code>
on the Open Build Service. This user is the same as the system user <code class="literal">geeko</code>,
that is, you.</p></li><li class="listitem"><p>An OBS user <code class="literal">obstux</code> and their home <code class="literal">home:obstux</code> on Open Build Service.
This user acts as a collaborator.</p></li><li class="listitem"><p>An example upstream open source repository at
<a class="link" href="https://github.com/obs-example/my-first-obs-package" target="_blank">https://github.com/obs-example/my-first-obs-package</a>. This repository contains source
code in the C++ programming language.</p></li></ul></div><p>This guide describes the following common tasks:</p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.7.1"><span class="term">Setting Up Your Home Project for the First Time (<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-setuphome" title="1.6. Setting Up Your Home Project for the First Time">Section 1.6, “Setting Up Your Home Project for the First Time”</a>)</span></dt><dd><p>Setting up a home project using the OBS Web UI.</p></dd><dt id="id-1.3.5.7.2"><span class="term">Creating a New Package Within Your Home Project (<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-newprj" title="1.7. Creating a New Package Within Your Home Project">Section 1.7, “Creating a New Package Within Your Home Project”</a>)</span></dt><dd><p>Creating packages from a repository hosted on GitHub.</p></dd><dt id="id-1.3.5.7.3"><span class="term">Patching Source Code (<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-patching" title="1.8. Patching Source Code">Section 1.8, “Patching Source Code”</a>)</span></dt><dd><p>Patching source code without touching the original source.</p></dd><dt id="id-1.3.5.7.4"><span class="term">Branching a Package (<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-branchprj" title="1.9. Branching a Package">Section 1.9, “Branching a Package”</a>)</span></dt><dd><p>Branching a project, making changes, and submitting back the changes
to the original project.</p></dd><dt id="id-1.3.5.7.5"><span class="term">Installing Packages from OBS (<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-install-from-obs" title="1.10. Installing Packages from OBS">Section 1.10, “Installing Packages from OBS”</a>)</span></dt><dd><p>Integrating the download repository into your system and installing
your built package.</p></dd></dl></div></section><section class="sect1" id="sec-obsbg-obsconfig" data-id-title="Configuring Your System for OBS"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.5 </span><span class="title-name">Configuring Your System for OBS</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-obsconfig">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>While it is possible to use the <code class="literal">osc</code> tool without any
configuration, it is recommended to set up your system as described
below.</p><p>After all dependencies are downloaded and before the actual build
process can start, you need to enter the root password. This
can be inconvenient when you rebuild packages frequently. The
configuration below modifies the <code class="literal">sudo</code> configuration to allow building
packages without entering the root password. To maximize
security, only specific users can have root privileges.</p><p>Follow the steps below to customize <code class="literal">sudo</code>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Log in as root and create a new group <code class="literal">osc</code>. This group will
contain all users which are allowed to build packages:</p><div class="verbatim-wrap"><pre class="screen">root # groupadd osc</pre></div></li><li class="listitem"><p>Add users to your newly created group <code class="literal">osc</code> which are allowed to build
packages:</p><div class="verbatim-wrap"><pre class="screen">root # usermod -a -G osc geeko</pre></div><p>Repeat this step to add other users, if necessary.</p></li><li class="listitem"><p>Run <code class="literal">visudo</code> to create the sudoers file <code class="literal">/etc/sudoers.d/osc</code>:</p><div class="verbatim-wrap"><pre class="screen">root # visudo -f /etc/sudoers.d/osc</pre></div></li><li class="listitem"><p>Add the following lines to create a command alias that can be executed
only by the <code class="literal">osc</code> group:</p><div class="verbatim-wrap"><pre class="screen"># sudoers file "/etc/sudoers.d/osc" for the osc group
Cmnd_Alias  OSC_CMD = /usr/bin/osc, /usr/bin/build
%osc  ALL = (ALL) NOPASSWD:OSC_CMD</pre></div></li><li class="listitem"><p>Log out of your system and log in again to apply the changes.</p></li><li class="listitem"><p>Create a new OBS configuration file:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc ls home:obsgeeko</pre></div><p>If you run the command for the first time, you will be prompted to enter
your OBS user name and OBS password.</p></li></ol></div><div id="id-1.3.6.6" data-id-title="Alternative Directory Structure" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Alternative Directory Structure</div><p>If you prefer to separate projects and subprojects in directories and
subdirectories, change the following line in your configuration file
<code class="literal">~/.oscrc</code>:</p><div class="verbatim-wrap"><pre class="screen">checkout_no_colon = 1</pre></div><p>This will use an alternate layout when checking out a project. For
example, setting the option above and checking out the home project will
generate the <code class="literal">home/obsgeeko</code> directory structure instead of the
single <code class="literal">home:obsgeeko</code> directory.</p><p>However, this guide uses the default configuration with colons.</p></div></section><section class="sect1" id="sec-obsbg-uc-setuphome" data-id-title="Setting Up Your Home Project for the First Time"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.6 </span><span class="title-name">Setting Up Your Home Project for the First Time</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-uc-setuphome">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This section shows how to set up your home project after creating an
openSUSE account.</p><p>When you log in to your home project for the first time, it will be
empty. To build packages, you need to select build targets (operating
systems and architectures) first. Build targets are defined project-wide
and every package in a project is built for each build target. However,
you can disable build targets for a specific package.</p><p>You can set up your home project using the Open Build Service web UI as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Log in to the Open Build Service instance.</p></li><li class="listitem"><p>Click the Your Home Project link in the Places menu on the left.</p></li><li class="listitem"><p>Click the Repositories tab, then the Add from a Distribution link.</p></li><li class="listitem"><p>Select the distributions you want to build for.</p><p>OBS shows several Linux distributions. For SUSE
distributions, it is recommended to activate at least openSUSE Tumbleweed and the
latest openSUSE Leap release.</p><p>When you select a distribution, OBS shows a message that the
distribution has been successfully added it to your home project.</p></li><li class="listitem"><p>Click the Overview tab to see the available build targets on the right
side.</p></li></ol></div><p>To add more build targets, repeat the procedure above.</p><p>To fine tune your build targets, click the Repositories tab, find the
respective build target, and click the Edit repository link. This shows
the available architectures and additional package repositories you can
add.</p></section><section class="sect1" id="sec-obsbg-uc-newprj" data-id-title="Creating a New Package Within Your Home Project"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.7 </span><span class="title-name">Creating a New Package Within Your Home Project</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-uc-newprj">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This section demonstrates how to create packages for different
SUSE distributions from some simple C++ source code
hosted on GitHub (the <span class="quote">“<span class="quote">upstream repository</span>”</span>).</p><div id="id-1.3.8.3" data-id-title="Check the License First" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Check the License First</div><p>Before building, go to the upstream homepage or documentation and check
the license.</p><p>For example, in the openSUSE Build Service, you may only redistribute source code
which was distributed to you under an open source license. If you are
submitting a package to openSUSE, its source code will be checked
for license compliance. If your package is not released under an open
source license, it will be rejected.</p><p>You can find a list of already used licenses in OBS at
<a class="link" href="https://license.opensuse.org" target="_blank">https://license.opensuse.org</a>. For more details and a comparison of open
source licenses in general, see
<a class="link" href="https://en.wikipedia.org/wiki/Comparison_of_free_and_open-source_software_licenses" target="_blank">https://en.wikipedia.org/wiki/Comparison_of_free_and_open-source_software_licenses</a>.</p></div><p>To create a package from the upstream repository, follow the steps
below.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Set up your home project as shown in <a class="xref" href="art-obs-bg.html#sec-obsbg-uc-setuphome" title="1.6. Setting Up Your Home Project for the First Time">Section 1.6, “Setting Up Your Home Project for the First Time”</a>.</p></li><li class="listitem"><p>In the terminal, choose or create a directory on a local partition
that has enough space to hold the package sources.</p></li><li class="listitem"><p>Check out your home project:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc checkout home:obsgeeko</pre></div><p>This creates an empty <code class="literal">home:obsgeeko</code> directory in the current
directory.</p></li><li class="listitem"><p>Create a new package in your local working directory:</p><div class="verbatim-wrap"><pre class="screen">geeko $ cd home:obsgeeko
geeko $ osc mkpac my-first-obs-package</pre></div></li><li class="listitem"><p>Get the source code from the upstream repository:</p><p>In our example, the upstream repository is hosted on GitHub and you
can use the following URL:
<a class="link" href="https://github.com/obs-example/my-first-obs-package/releases" target="_blank">https://github.com/obs-example/my-first-obs-package/releases</a>. Download the
tarball (<span class="quote">“<span class="quote">Source code (tar.gz)</span>”</span>) and save it in the local directory
<code class="literal">home:obsgeeko/my-first-obs-package</code>. (If there is
no published release, click the <span class="emphasis"><em>Clone or download</em></span> button and download
the latest sources using the <span class="emphasis"><em>Download ZIP</em></span> link.)</p></li><li class="listitem"><p>Create the build recipe. This file contains metadata and build
instructions.</p><p>In this example, we are building an RPM for openSUSE. For
RPM-based distributions, we create a <span class="emphasis"><em>spec file</em></span>. The skeleton of such a
spec file looks like this:</p><p id="ex-obsbg-uc-basicprj-skeletonspec">Skeleton of a Spec File</p><div class="verbatim-wrap"><pre class="screen">#
# spec file for package my-first-obs-package
#
# -- Copyright omitted --

Name:           my-first-obs-package <span class="callout" id="CO1-1">1</span>
Version:        0.1.0
Release:        0
License:        GPL-3.0
Group:          Documentation
Summary:        Frobnication Tool
Url:            https://github.com/obs-example/my-first-obs-package
Source:         my-first-obs-package-%{version}.tar.gz
BuildRequires:  gcc <span class="callout" id="CO1-2">2</span>
BuildRequires:  cmake
BuildRoot:      %{_tmppath}/%{name}-%{version}-build

%description <span class="callout" id="CO1-3">3</span>
This tool frobnicates the bar with the foo when choosing the baz.

%prep <span class="callout" id="CO1-4">4</span>
%setup -q -n %{name}-%{version}

%build <span class="callout" id="CO1-5">5</span>

%install <span class="callout" id="CO1-6">6</span>

%files <span class="callout" id="CO1-7">7</span>
%defattr(-,root,root,-)
%doc README LICENSE *.txt
%{_bindir}/*

%changelog <span class="callout" id="CO1-8">8</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-1"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Header.</strong></span> Metadata like package name, version, release, license, the
RPM group, a brief summary, the upstream URL, and the name of the source file.</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-2"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>Build Requirements.</strong></span> Lists package dependencies that are required for
building. The listed packages are downloaded and installed before building the
package.</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-3"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Description Section.</strong></span> Describes the purpose of the package and gives a
comprehensive explanation.</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-4"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Preparation Section.</strong></span> Prepares the sources for building. This usually
includes unpacking them with the <code class="literal">%setup</code> macro and patching them using the
<code class="literal">%patch</code> macro. (For more information about patching, see
<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-patching" title="1.8. Patching Source Code">Section 1.8, “Patching Source Code”</a>.)</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-5"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Build Section.</strong></span> Contains commands or RPM macros for building the package.</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-6"><span class="callout">6</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Install Section.</strong></span> Contains commands or RPM macros which create
directories or copy files to the installation location.</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-7"><span class="callout">7</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Files Section.</strong></span> Lists all files and directories which belong to the
package.  Documentation-related files are marked with <code class="literal">%doc</code>, and they are
automatically installed in the default documentation directory.</p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#CO1-8"><span class="callout">8</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p><span class="strong"><strong>The Changelog Section.</strong></span> This section is usually empty. Instead, OBS
searches for a file with the extension <code class="literal">.changes</code>. If such a file exists in the
project directory, it will be automatically included as a changelog. The
changelog file itself contains a high level overview of the history of the
package.</p></td></tr></table></div><p>For the complete spec file, see <a class="link" href="https://build.opensuse.org/package/view_file/home:obsgeeko/my-first-obs-package/my-first-obs-package.spec" target="_blank">https://build.opensuse.org/package/view_file/home:obsgeeko/my-first-obs-package/my-first-obs-package.spec</a>.</p></li><li class="listitem"><p>Create a changelog file:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc vc</pre></div><p>This command opens a text file with the following content in the default
editor:</p><div class="verbatim-wrap"><pre class="screen">-------------------------------------------------------------------
Fri Aug 23 12:31:41 UTC 2017 - geeko@example.com</pre></div><p>Add a short summary of your changes. Usually, a changelog entry contains
a high-level overview such as the version of the software in the
package, which patches you applied, and other changes in your project.</p><p>Save the file and leave the editor. <code class="literal">osc</code> then creates the file
<code class="literal">my-first-obs-package.changes</code>.</p><p>Your project directory should now look something like this:</p><div class="verbatim-wrap"><pre class="screen">project directory
     ├── my-first-obs-package-0.1.0.tar.gz
     ├── my-first-obs-package.changes
     └── my-first-obs-package.spec</pre></div></li><li class="listitem"><p>Add all the files to your working directory:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc add *.spec *.changes *.tar.gz</pre></div></li><li class="listitem"><p>Build the package for the default build target:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc build --local-package</pre></div><div id="id-1.3.8.5.9.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>The option <code class="literal">--local-package</code> is used here, because the package is not
yet submitted to OBS.</p></div></li><li class="listitem"><p>Check whether your build was successful. If everything was fine,
commit the files to your package to your home project on OBS:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc commit</pre></div><p>This command commits the source code changes to the OBS server and triggers
server-side builds there for all configured repositories and architectures.
To see which repositories and architectures are configured, issue the following
command:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc repositories</pre></div><p>If you encounter build errors or would like to take a closer look at those parts
of the build log which have disappeared from your scroll buffer, use the <code class="literal">osc
buildlog</code> (alias <code class="literal">osc bl</code>) command to review the local build log:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc buildlog openSUSE_Tumbleweed x86_64</pre></div><p>Use the analogous <code class="literal">osc remotebuildlog</code> (alias <code class="literal">osc rbl</code>) command to review logs
from the server-side builds.</p></li></ol></div></section><section class="sect1" id="sec-obsbg-uc-patching" data-id-title="Patching Source Code"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.8 </span><span class="title-name">Patching Source Code</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-uc-patching">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This section describes how to tell Open Build Service to apply a patch to your
package before building it. We use the same package as shown in
<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-newprj" title="1.7. Creating a New Package Within Your Home Project">Section 1.7, “Creating a New Package Within Your Home Project”</a>.</p><p>There are various reasons why you might want to patch a package:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>You Do Not Have Permission to Commit Upstream.</strong></span> Often, you cannot commit
  changes directly to the upstream repository. If you send changes to the
upstream repository, they may be integrated late or even be rejected.</p><p>Patch files allow making changes while keeping source code clean while
insulating your package from upstream’s release cycle, coding style, and
internal workings.</p></li><li class="listitem"><p><span class="strong"><strong>Apply Security and Bug Fixes or Distribution-Specific Fixes.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>Change the Source Code, So It Builds on OBS.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>Improve Security and Traceability.</strong></span> Untouched source code in OBS is
easier to check for changes than a modified one. The check is usually done
with a checksum (MD5 or SHA).</p></li><li class="listitem"><p><span class="strong"><strong>Improve Structure and Consistency.</strong></span> From an organizational point of view, it
is better when changes are separated from the source code. With the changes
inside the patch file, everybody can see <span class="emphasis"><em>what</em></span> was changed and which files
changes were applied to.</p></li></ul></div><p>We assume that you already have a project as described in
<a class="xref" href="art-obs-bg.html#sec-obsbg-uc-newprj" title="1.7. Creating a New Package Within Your Home Project">Section 1.7, “Creating a New Package Within Your Home Project”</a>. The project directory should look similar to this:</p><div class="verbatim-wrap"><pre class="screen">project directory
├── my-first-obs-package-0.1.0.tar.gz
├── my-first-obs-package.changes
└── my-first-obs-package.spec</pre></div><p>In our case, we want to modify the source code under <code class="literal">src/main.cpp</code> to
change the greeting message.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the terminal, switch to your working directory.</p></li><li class="listitem"><p>Prepare a patch file:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Unpack the source code:</p><div class="verbatim-wrap"><pre class="screen">geeko $ tar xvf my-first-obs-package-*.tar.gz</pre></div><p>If you have downloaded the archive from GitHub, the archive contains a
directory in the form <code class="literal">NAME-VERSION</code>. In our case, unpacking the
downloaded archive results in the <code class="literal">my-first-obs-package-0.1.0/</code>
directory.</p></li><li class="listitem"><p>Switch to the directory <code class="literal">my-first-obs-package-0.1.0/</code> and make a
copy of the original C++ source file:</p><div class="verbatim-wrap"><pre class="screen">geeko $ cd my-first-obs-package-0.1.0/
geeko $ cp src/main.cpp src/main.cpp.orig</pre></div></li><li class="listitem"><p>Make your changes in <code class="literal">src/main.cpp</code>.</p></li><li class="listitem"><p>Create a diff and carefully inspect your changes:</p><div class="verbatim-wrap"><pre class="screen">geeko $ diff -u src/main.cpp.orig src/main.cpp</pre></div><p>The output should look like this:</p><div class="verbatim-wrap highlight diff"><pre class="screen">--- src/main.cpp.orig   2017-08-09 16:28:31.407449707 +0200
+++ src/main.cpp        2017-08-09 16:28:49.131541230 +0200
@@ -2,7 +2,7 @@

 int main()
 {
-    std::cout{lt}{lt}"Hello OBS!\n";
+    std::cout{lt}{lt}"Hello Alice!\n";

     return 0;
 }</pre></div></li><li class="listitem"><p>Redirect the diff into a file:</p><div class="verbatim-wrap"><pre class="screen">geeko $ diff -u src/main.cpp.orig src/main.cpp \
  &gt; ../my-first-obs-package_main.diff</pre></div><p>You can use an arbitrary name for the patch file. However, we recommend
giving the file a descriptive name and adding the name of the upstream
project. If there is a bug or issue number associated with the patch,
add it to the file name as well. You can either use <code class="literal">.diff</code> or <code class="literal">.patch</code>
as the file extension.</p></li><li class="listitem"><p>You can now remove the directory <code class="literal">my-first-obs-package-0.1.0/</code>, as
it is not needed anymore.</p></li></ol></div></li><li class="listitem"><p>Open your spec file and add the following line in the header under the
<code class="literal">Source</code> line like this:</p><div class="verbatim-wrap"><pre class="screen">Source:         my-first-obs-package-%{version}.tar.gz
Patch0:         my-first-obs-package_main.diff</pre></div></li><li class="listitem"><p>In the <code class="literal">%prep</code> section, add the <code class="literal">%patch</code> macro:</p><div class="verbatim-wrap"><pre class="screen">%prep
%setup -q -n %{name}-%{version}
%patch -P 0</pre></div></li><li class="listitem"><p>Add your patch file to the local repository:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc add my-first-obs-package_main.diff</pre></div></li><li class="listitem"><p>Rebuild your package:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc build</pre></div></li><li class="listitem"><p>If everything was successful, commit your changes:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc commit</pre></div><p>When prompted, specify and save a commit message.</p></li></ol></div><p>If you are dealing with a lot of patches, you might find the <code class="literal">quilt</code>
tool useful. For more information about <code class="literal">quilt</code>, see
<a class="link" href="https://savannah.nongnu.org/projects/quilt" target="_blank">https://savannah.nongnu.org/projects/quilt</a>.</p></section><section class="sect1" id="sec-obsbg-uc-branchprj" data-id-title="Branching a Package"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.9 </span><span class="title-name">Branching a Package</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-uc-branchprj">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This section describes how to collaborate between projects. You can
branch any package in OBS into any project that you have write
permission for. By default, new branches are created as a subproject of
your home project. These default branches have names beginning with
<code class="literal">home:obsgeeko:branches</code>.</p><p>There are different reasons to branch a package:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>To modify the source code of the package, build it, try the effect of the
changes, and submit them back to the original project. Usually,
you use this workflow when you do not have write permissions for a
project.</p></li><li class="listitem"><p>To make changes without affecting the original project.</p></li><li class="listitem"><p>To apply temporary changes to try out a different path of development.</p></li></ul></div><p>Let us assume that there is an OBS user <code class="literal">obsgeeko</code> who has created
a package <code class="literal">home:obsgeeko/my-first-obs-package</code> on
OBS. Now, a second user, <code class="literal">obstux</code>, would like to submit a
code change request to that package.</p><p>Now, imagine that you are <code class="literal">obstux</code> and you would like to branch
obsgeeko’s package into your home project and work on it:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the terminal, choose or create a directory on a local partition
with enough free space.</p></li><li class="listitem"><p>Create a branch from obsgeeko’s home project:</p><div class="verbatim-wrap"><pre class="screen">tux $ osc branchco home:obsgeeko my-first-obs-package</pre></div><p>This creates a project <code class="literal">home:obstux:branches:home:obsgeeko</code> in OBS, and in it
a package my-first-obs-package. It also checks this package out
locally, creating a local directory <code class="literal">home:obstux:branches:home:obsgeeko/my-first-obs-package</code></p></li><li class="listitem"><p>Change the working directory to that local checkout:</p><div class="verbatim-wrap"><pre class="screen">tux $ cd home:obstux:branches:home:obsgeeko/my-first-obs-package</pre></div></li><li class="listitem"><p>Make changes as shown in <a class="xref" href="art-obs-bg.html#sec-obsbg-uc-patching" title="1.8. Patching Source Code">Section 1.8, “Patching Source Code”</a>.</p></li><li class="listitem"><p>Build the package for the default build target:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc build</pre></div><div id="id-1.3.10.7.5.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>In this case, we do not use the option <code class="literal">--local-package</code> because the package
exists server-side on OBS, having been created there by the <code class="literal">osc branchco</code>
command we just ran.</p></div></li><li class="listitem"><p>Review the build log:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc buildlog openSUSE_Tumbleweed x86_64</pre></div></li><li class="listitem"><p>Make sure all included and removed files are added to the OBS
repository:</p><div class="verbatim-wrap"><pre class="screen">tux $ osc addremove</pre></div></li><li class="listitem"><p>If everything was successful, commit your changes:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc commit</pre></div><p>When prompted, specify and save a commit message.</p></li><li class="listitem"><p>Submit the changes for approval by creating a submitrequest (<span class="quote">“<span class="quote">SR</span>”</span>):</p><div class="verbatim-wrap"><pre class="screen">tux $ osc sr</pre></div><p>Used like this without any arguments, the <code class="literal">osc sr</code> (<code class="literal">osc submitreq</code>) command
submits the package back to where you originally branched it from.</p><div id="id-1.3.10.7.9.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>With the <code class="literal">osc sr</code> command, you submit a specific version of the source.
If you commit changes later, before the earlier SR gets accepted, osc will
detect the earlier SR and ask you whether you want to supersede it with the
newer source.</p></div><p>If you would rather be explicit about what to submit and where to submit it
to, use the full syntax <code class="literal">osc sr SOURCEPRJ PKG DESTPRJ</code> - i.e., in the present case:</p><div class="verbatim-wrap"><pre class="screen">tux $ osc sr home:obstux:branches:home:obsgeeko my-first-obs-package home:obsgeeko</pre></div></li></ol></div><p>User <code class="literal">obstux</code> has finished the task now and the SR is assigned to
<code class="literal">obsgeeko</code>. User <code class="literal">obsgeeko</code> can now either accept or decline it. Also, as
long as the SR remains open, <code class="literal">obstux</code> can also supersede it with a new
request to reflect any additional code changes that may be needed:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>Accept the SR.</strong></span> The changes from user <code class="literal">obstux</code> will be
integrated into the home:obsgeeko project. The accepted SR will be
closed. To make further changes, obstux will to create a new
SR.</p></li><li class="listitem"><p><span class="strong"><strong>Decline the SR.</strong></span> The changes from user <code class="literal">obstux</code> are not integrated into
the home:obsgeeko project, but that user can still address the reasons why
the original SR was declined and supersede it with a new SR.</p><p>Reasons for declining a submit requires can be build errors or style
issues. The reviewer usually gives a reason when declining the submit
request. User obstux can then 1) correct their submission using
a new submit request that supersedes the previous one, 2) disagree and
reopen the request, or 3) accept the decline and revoke the request.</p></li><li class="listitem"><p><span class="strong"><strong>Supersede the SR.</strong></span> As long as the SR is still open (and this includes the
case when it has been declined), <code class="literal">obstux</code> can continue making changes in
their local checkout and, at any time, issue a new submit request using the
above workflow. At submission time, OBS will detect the existing (previous)
SR and ask the submitter whether they would like to supersede it. If
<code class="literal">obstux</code> answers "yes" here, the new SR will supersede the previous one.
Alternatively, by answering "no" to the supersede question, a second SR will be
created alongside the previous one.</p></li></ul></div><p>User <code class="literal">obsgeeko</code> is responsible for the following:</p><div id="id-1.3.10.11" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>If preferred, the below steps can also be performed using the OBS web UI.
Requests can be managed under the Tasks tab.</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Show all open SRs targeting your home project</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc rq list -P home:obsgeeko</pre></div></li><li class="listitem"><p>Find the correct SR. Once you know the SR number:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc request show 246</pre></div></li><li class="listitem"><p>Review the SR and decide:</p><p>Accept the submit request:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc rq accept 246 --message="Reviewed OK."</pre></div><p>Decline the SR and give a reason:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc rq decline 256 --message="Declined, because of missing semicolon."</pre></div></li></ol></div><p>When the SR is accepted, the changes in the SR are integrated
into the target package (<code class="literal">home:obsgeeko/my-first-obs-package</code> in this case).</p><p>If the SR is declined, the submitter can fix the issues and
resubmit the package. When creating a new SR for to resubmit
updated code changes, the submitter would answer "yes" when osc
prompts to supersede the previous SR.</p></section><section class="sect1" id="sec-obsbg-uc-install-from-obs" data-id-title="Installing Packages from OBS"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.10 </span><span class="title-name">Installing Packages from OBS</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-uc-install-from-obs">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Projects on OBS can be configured to create <span class="emphasis"><em>download repositories</em></span> containing the
binary packages (RPMs, DEBs, etc.) produced when it builds your sources.
These repositories can be as installation sources for distro-specific package management
utilities such as Zypper, YaST, apt-get, yum, etc.</p><p>The process of creating and updating download repositories is called "publishing".</p><p>Normally, when you create a package in your OBS home project, after a
successful server-side build the OBS will "publish" the build artifacts
to repositories. In our example, these repositories appear as directories
at the URL <a class="link" href="https://download.opensuse.org/repositories/home:/obsgeeko" target="_blank">https://download.opensuse.org/repositories/home:/obsgeeko</a>.</p><p>However, publishing is not enabled on all projects. For example, projects
that get created via branching (as in our <code class="literal">osc branchco</code> example, above)
have publishing disabled by default. If you need artifacts from server-side
builds in such projects, you can download them with <code class="literal">osc getbinaries</code>.</p><p>For example, if you have enabled the openSUSE Tumbleweed distribution, all packages
for openSUSE Tumbleweed will be published at
<a class="link" href="https://download.opensuse.org/repositories/home:/obsgeeko/openSUSE_Tumbleweed" target="_blank">https://download.opensuse.org/repositories/home:/obsgeeko/openSUSE_Tumbleweed</a>.</p><p>Let’s assume you are running openSUSE Tumbleweed and you wish to install the my-first-obs-package
package from your home project. Also, when newer builds of the package are
published, you would like your system to download and install them
automatically when updating installed packages:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Inside your working directory, determine the download repository URLs:</p><div class="verbatim-wrap"><pre class="screen">geeko $ osc repourls
https://download.opensuse.org/repositories/home:/obsgeeko/openSUSE_Tumbleweed/home:obsgeeko.repo
https://download.opensuse.org/repositories/home:/obsgeeko/openSUSE_42.2/home:obsgeeko.repo</pre></div></li><li class="listitem"><p>Copy the desired URL of your preferred distribution. In our case, that
is the line containing <code class="literal">openSUSE_Tumbleweed</code>.</p></li><li class="listitem"><p>Use <code class="literal">zypper</code> and add the repo:</p><div class="verbatim-wrap"><pre class="screen">root # zypper addrepo https://download.opensuse.org/repositories/home:/obsgeeko/openSUSE_Tumbleweed/home:obsgeeko.repo</pre></div><p>When prompted, accept the GPG key of the download repository.</p></li><li class="listitem"><p>Install the package:</p><div class="verbatim-wrap"><pre class="screen">root # zypper install my-first-obs-package</pre></div></li></ol></div><p>When a newer build of the package is published, re-running Step 4 again will
install it. You do not need to execute Step 1, as the repository is already
configured in your system.</p></section><section class="sect1" id="sec-obsbg-cheatsheet" data-id-title="Other Useful osc Commands"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.11 </span><span class="title-name">Other Useful <code class="literal">osc</code> Commands</span></span> <a title="Permalink" class="permalink" href="art-obs-bg.html#sec-obsbg-cheatsheet">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The following list gives you a short overview of frequently used
<code class="literal">osc</code> subcommands that have not yet been mentioned in this guide. For an
overview of their syntax, use <code class="literal">osc SUBCOMMAND --help</code>.</p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.12.3.1"><span class="term"><code class="literal">osc diff</code></span></dt><dd><p>Generates a diff, comparing local changes against the remote
OBS project.</p></dd><dt id="id-1.3.12.3.2"><span class="term"><code class="literal">osc list</code></span></dt><dd><p>Shows source or binaries on an OBS server.</p></dd><dt id="id-1.3.12.3.3"><span class="term"><code class="literal">osc prjresults</code></span></dt><dd><p>Shows project-wide build results.</p></dd><dt id="id-1.3.12.3.4"><span class="term"><code class="literal">osc status</code></span></dt><dd><p>Shows the status of files in your working directory</p></dd></dl></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="id-about-this-guide.html"><span class="pagination-relation">Previous</span><span class="pagination-label">About this Guide</span></a> </div><div><a class="pagination-link next" href="id-legal-notice.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 2 </span>Legal notice</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-targetaudience"><span class="title-number">1.1 </span><span class="title-name">Target Audience</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-concept"><span class="title-number">1.2 </span><span class="title-name">Conceptual Overview</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-req"><span class="title-number">1.3 </span><span class="title-name">Requirements for Working with the <code class="literal">osc</code> Command-Line Tool</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-usagescenarios"><span class="title-number">1.4 </span><span class="title-name">Covered Scenarios</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-obsconfig"><span class="title-number">1.5 </span><span class="title-name">Configuring Your System for OBS</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-uc-setuphome"><span class="title-number">1.6 </span><span class="title-name">Setting Up Your Home Project for the First Time</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-uc-newprj"><span class="title-number">1.7 </span><span class="title-name">Creating a New Package Within Your Home Project</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-uc-patching"><span class="title-number">1.8 </span><span class="title-name">Patching Source Code</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-uc-branchprj"><span class="title-number">1.9 </span><span class="title-name">Branching a Package</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-uc-install-from-obs"><span class="title-number">1.10 </span><span class="title-name">Installing Packages from OBS</span></a></span></li><li><span class="section"><a href="art-obs-bg.html#sec-obsbg-cheatsheet"><span class="title-number">1.11 </span><span class="title-name">Other Useful <code class="literal">osc</code> Commands</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2025</span></div></div></footer></body></html>